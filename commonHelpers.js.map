{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nasync function fetchImg(searchWord, page = 1, limit = 15) {\n  const apiKey = '42869495-3eaffa1d7f59c13a6a9af4ac7';\n\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchWord}&orientation=horizontal&safesearch=true&page=${page}&per_page=${limit}`;\n\n  try {\n    if (!searchWord) {\n      throw new Error('Search word is empty');\n    }\n\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    throw new Error(`Failed to fetch images: ${error.message}`);\n  }\n}\n\nexport default fetchImg;\n","\n\nfunction createGalleryMarkup(items) {\n  const gallery = document.querySelector('.gallery');\n  const markup = items\n    .map(item => {\n      return `<li class=\"gallery-list-item\">\n        <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n            <img class=\"gallery-list-item-img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\"/>        \n        </a>\n            <div class=\"text-wrapper\">\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Likes</p>\n                    <p class =\"gallery-list-item-text\">${item.likes}</p>\n                </div>\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Views</p>\n                    <p class =\"gallery-list-item-text\">${item.views}</p>\n                </div>\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Comments</p>\n                    <p class =\"gallery-list-item-text\">${item.comments}</p>\n                </div>\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Downloads </p>\n                    <p class =\"gallery-list-item-text\">${item.downloads}</p>\n                </div>\n            </div>\n            \n      </li>`;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport default createGalleryMarkup;","const form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst searchInput = document.querySelector('.search-input');\nlet searchWord = '';\nconst galWrap = document.querySelector('.gallery');\nimport simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst moreBtn = document.querySelector('.more-btn');\n\nlet page = 1;\nconst limit = 15;\n\nimport fetchImg from './js/pixabay-api';\nimport createGalleryMarkup from './js/render-functions';\nconst lightbox = new simpleLightbox('.gallery a', {});\n\nform.addEventListener('submit', async evt => {\n  galWrap.innerHTML = '';\n  evt.preventDefault();\n  try {\n    searchWord = searchInput.value;\n    const imagesData = await fetchImg(searchWord);\n    const { hits } = imagesData;\n\n    loader.classList.add('is-open');\n\n    if (hits.length === 0) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        color: 'red',\n        position: 'topRight',\n      });\n    }\n\n    createGalleryMarkup(hits);\n    page += 1;\n    if (page > 1) {\n      moreBtn.classList.remove('hidden');\n    }\n    lightbox.refresh();\n    loader.classList.remove('is-open');\n    form.reset();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nmoreBtn.addEventListener('click', async evt => {\n  evt.preventDefault();\n  try {\n    const imagesData = await fetchImg(searchWord, page, limit);\n    const { hits } = imagesData;\n    createGalleryMarkup(hits);\n    lightbox.refresh();\n  } catch (error) {\n    console.log(error);\n  }\n\n  form.reset();\n});\n"],"names":["fetchImg","searchWord","page","limit","url","axios","error","createGalleryMarkup","items","gallery","markup","item","form","loader","searchInput","galWrap","moreBtn","lightbox","simpleLightbox","evt","imagesData","hits","iziToast"],"mappings":"owBAEA,eAAeA,EAASC,EAAYC,EAAO,EAAGC,EAAQ,GAAI,CAGxD,MAAMC,EAAM,qEAA4CH,CAAU,gDAAgDC,CAAI,aAAaC,CAAK,GAExI,GAAI,CACF,GAAI,CAACF,EACH,MAAM,IAAI,MAAM,sBAAsB,EAIxC,OADiB,MAAMI,EAAM,IAAID,CAAG,GACpB,IACjB,OAAQE,EAAO,CACd,MAAM,IAAI,MAAM,2BAA2BA,EAAM,OAAO,EAAE,CAC3D,CACH,CCfA,SAASC,EAAoBC,EAAO,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IAAIG,GACI;AAAA,wCAC2BA,EAAK,aAAa;AAAA,sDACJA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yDAKjCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yDAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yDAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,yDAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,YAKlE,EACA,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CCjCA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,SAAS,cAAc,eAAe,EAC1D,IAAIb,EAAa,GACjB,MAAMc,EAAU,SAAS,cAAc,UAAU,EAK3CC,EAAU,SAAS,cAAc,WAAW,EAElD,IAAId,EAAO,EACX,MAAMC,EAAQ,GAIRc,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAEpDN,EAAK,iBAAiB,SAAU,MAAMO,GAAO,CAC3CJ,EAAQ,UAAY,GACpBI,EAAI,eAAc,EAClB,GAAI,CACFlB,EAAaa,EAAY,MACzB,MAAMM,EAAa,MAAMpB,EAASC,CAAU,EACtC,CAAE,KAAAoB,CAAM,EAAGD,EAEjBP,EAAO,UAAU,IAAI,SAAS,EAE1BQ,EAAK,SAAW,GAClBC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UAClB,CAAO,EAGHf,EAAoBc,CAAI,EACxBnB,GAAQ,EACJA,EAAO,GACTc,EAAQ,UAAU,OAAO,QAAQ,EAEnCC,EAAS,QAAO,EAChBJ,EAAO,UAAU,OAAO,SAAS,EACjCD,EAAK,MAAK,CACX,OAAQN,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAEDU,EAAQ,iBAAiB,QAAS,MAAMG,GAAO,CAC7CA,EAAI,eAAc,EAClB,GAAI,CACF,MAAMC,EAAa,MAAMpB,EAASC,EAAYC,EAAMC,CAAK,EACnD,CAAE,KAAAkB,CAAM,EAAGD,EACjBb,EAAoBc,CAAI,EACxBJ,EAAS,QAAO,CACjB,OAAQX,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CAEDM,EAAK,MAAK,CACZ,CAAC"}